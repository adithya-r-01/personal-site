<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fourth and Chaos</title>
    <meta name="description" content="A blog focused on technical topics, data visualizations, and mathematics.">
    <link rel="stylesheet" href="/assets/css/styles.css">

  </head>
  <body style="width: 100%; margin: 1pw; padding: 0;">
    <main>
      <h1><code>Fourth and Chaos</code></h1>
      <span style="display: flex; justify-content: begin; align-items: center;margin-bottom: 50px;">
        <img src="/assets/img/fourth-and-chaos.png" alt="Fourth and Chaos" style="width: 30%; height: auto; border-radius: 10px; margin-right: 30px;">
        <aside>
            <p><strong>TL;DR:</strong> Exploring what makes a football game exciting.</p>
            <div class="tag-container">
                <strong>Tags:</strong>
                
                    <span class="tag">sports</span>
                
                    <span class="tag">nfl</span>
                
                    <span class="tag">python</span>
                
                    <span class="tag">post</span>
                
            </div>
            <p><strong>Word Count:</strong> 2392</p>
        </aside>
      </span>
      <p>The largest draw of professional sports are the players, teams, and stakes. The order of which depends on the sport. One doesn’t need to look farther than the top 10 most watched sports games of the past year to understand that often the content of the game doesn’t matter as much as the context [1]:</p>
<p><img src="/assets/img/most_viewed_nfl_(1).png" alt="most_viewed_nfl (1).png"></p>
<p>As always NFL is king, but more importantly 8 out of 10  games are attached to the NFL playoffs and the other two fall on Thanksgiving the holiest day of football. This makes sense, because people innately think that bigger means better. The more fanfare and buildup attached to a game like the Superbowl the more likely people are to watch it.</p>
<p>But this fanfare doesn’t always mean that the game is fun to watch. In fact we need not look further than the coveted Superbowl, over the past ten years the Superbowl has on average been decided by more than 11 points [2].</p>
<p>If we strip away the storylines, stakes, and stardom the Superbowl is on average probably more boring than your typical Sunday night game, but I want a way to quantify that, make decisions on which team to watch any given day, and in general capture the how exciting the product on the field or court is irrespective of the fluff surrounding it … cue the Sports Excitement Factor.</p>
<p>I have a very simple strategy to examine the sports excitement factor and it comes down to a funky little chart that most sports degenerates have seen at least one point in our life: <em>The Win Probability Chart</em>.</p>
<p>Let’s take a look at these two games:</p>
<p><img src="/assets/img/Screen_Shot_2023-05-25_at_5.32.47_PM.png" alt="2022 Week 10 NFL Vikings vs. Bills"></p>
<p>2022 Week 10 NFL Vikings vs. Bills</p>
<p><img src="/assets/img/Screen_Shot_2023-05-25_at_5.40.06_PM.png" alt="2022 Week 14 NFL 49ers vs. Buccaneers"></p>
<p>2022 Week 14 NFL 49ers vs. Buccaneers</p>
<p>What was the better game? What was the more exciting game? I think the answer is clear. The most exciting sports games are supposed to ebb and flow like a good story, with twists and turns, surprises and tension, and ultimately a satisfying yet unexpected conclusion.</p>
<p>Before we begin anything we have to construct our in-game win probability model. Unfortunately the folks at ESPN haven’t made their model publicly available, but there is a vast amount of literature on this topic.</p>
<h2><code>Let’s Put Our Model Into Action</code></h2>
<p>With the model “constructed”, we can start our application by taking a simple of random games generated by our model. All games used in our analysis are going to be from the 2022 NFL season.</p>
<p><strong>Week 12 - Green Bay @ Philadelphia (33-40)</strong></p>
<p><img src="/assets/img/Untitled.png" alt="Untitled"></p>
<p><strong>Week 8 - Las Vegas @ New Orleans (24-0)</strong></p>
<p><img src="/assets/img/Untitled%201.png" alt="Untitled"></p>
<p>The essence of what we are looking for is there, now it’s just time to throw some numbers around and see what sticks.</p>
<h2><code>Quantifying It All</code></h2>
<p>The graph is nice but it doesn’t provide anything quantitative to compare, sort, and assess. Instead we need to figure out a way to project the figures above down into a single number. Here are a couple of ideas to quantify it all:</p>
<ul>
<li><strong>Time Spent in “Danger Zone”:</strong> Lets say the danger zone is a game that is at about a 50% win probability for either team with a margin of error of about 5%, we can then look for the portion of a game that’s in this zone</li>
<li><strong>Big Movements:</strong> Looking for large changes in the win probability, maybe we can define this as within a minute if the win probability changes more than 20%. This would usually indicate a turnover or big offensive play. In other words “exciting”.</li>
<li><strong>Eccentricity:</strong> This one is a bit harder to define but how about a way of saying how weird the general essence of a win probability graph is. Or in other words how hard it is to capture with mathematical functions?</li>
</ul>
<p>The Danger Zone is pretty easy to numerate:</p>
<p>$$
d = \frac{45 \leq obs_i \leq 55}{obs}
$$</p>
<p>Where obs is the number of observation points, now one might note that this isn’t exactly a perfect comparison because points are not evenly distributed, but it should be good enough. <em>However</em> one thing that we need to to take a more critical look at is weighing these metrics towards the end of the game. A tie game in the first quarter means much less than a tie game at the end of the fourth.</p>
<p>$$
d = \frac{\Sigma_{i=0}^{N} (\ln(i + 1) + 1) \cdot(45 \leq obs_i \leq 55)}{N}
$$</p>
<p>I don’t pretend to be a mathematician in any sort of the word, but the approach I’m suggesting is that we weigh observations using a log function to naturally mimic the gradient within the “stakes” of a game. We are using the log as a factor multiplied to our binary observations.</p>
<p>Big movements, like the danger zone, is in principal pretty easy to calculate:</p>
<p>$$ m = \frac{|obs_{i} - obs_{i + 1}| \geq 5 }{obs} $$</p>
<p>Same ingredients different meal, here we are simply looking at each observation along with the previous figuring out if the difference is larger than some arbitrary threshold which in this case is 5%. In this case we can similarly apply the log factor to weigh observations towards the end of the game.</p>
<p>I’m going to try something different for eccentricity, and it starts with perhaps the nerdiest assumption I’ve ever made. So nerdy that I’m going to put it in a quote card distinct from the rest of my writing in order to salvage the dignity of my prose.</p>
<blockquote>
<p>“Let’s assume any football win probability can be modeled as a polynomial function with an arbitrary amount of terms”</p>
</blockquote>
<p>And I’m going to make another assumption this time about you the audience. If football win probability can be modeled by a polynomial function we want more terms not less. A linear win probability sounds extremely boring, however if we crank those numbers up to perhaps a nonic (a degree of 9) we start cooking.</p>
<p>As a thought exercise what if we <em>approximate</em> the polynomial representation of the win probability graph using a polynomial with degree equivalent to <s>50% of the total number of observation</s>s 10 (for computational reasons).</p>
<p>$$
\set{obs_0 \cdots obs_N} \rightarrow β_1x^{\frac{N}{2}} + β_2x^{\frac{N}{2}-1} + \cdots +β_{\frac{N}{2}}x^0 = f(n)
$$</p>
<p>Again, I don’t claim to be a mathematician in any sort of the word, but the general idea is I want to transform a random subset of the observations into a polynomial function representing the win probability. That transformation process isn’t detailed in depth, but we would be using polynomial regression.</p>
<p>Now from there we can simply reference our observations against the function like so:</p>
<p>$$
e = \Sigma_{i = 0}^{N} |f(i) - obs_i|
$$</p>
<p>Akin to the other metrics we’ve calculated, a larger value is good in the larger scheme of finding an exciting game. Well that’s enough math for the day, lets delve into the real meat and potatoes of what we are after and construct our excitement algorithm.</p>
<h2><code>Weights and Biases</code></h2>
<p>Well now with all algorithms in place, what do we actually do with these three numbers. Well the simple answer is to just add them up together:</p>
<p>$$
excitement = \beta_0 (danger) + \beta_1 (movement) +\beta_2 (eccentricity)
$$</p>
<p>After computing all the values for the <strong>2023-2024</strong> NFL season we are left with data that looks like this:</p>
<table>
<thead>
<tr>
<th><code>game_id</code></th>
<th><code>danger_zone</code></th>
<th><code>big_movements</code></th>
<th><code>eccentricity</code></th>
<th><code>excitement</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>2023_01_ARI_WAS</td>
<td>1.0629</td>
<td>0.5632</td>
<td>0.2961</td>
<td>1.9222</td>
</tr>
<tr>
<td>2023_01_BUF_NYJ</td>
<td>1.0585</td>
<td>1.0630</td>
<td>0.3446</td>
<td>2.4661</td>
</tr>
<tr>
<td>2023_01_CAR_ATL</td>
<td>1.4922</td>
<td>0.6228</td>
<td>0.1732</td>
<td>2.2882</td>
</tr>
<tr>
<td>2023_01_CIN_CLE</td>
<td>0.0712</td>
<td>0.2938</td>
<td>0.1542</td>
<td>0.5192</td>
</tr>
<tr>
<td>. . .</td>
<td>. . .</td>
<td>. . .</td>
<td>. . .</td>
<td>. . .</td>
</tr>
</tbody>
</table>
<p>And pretty quickly we can say the most <em>exciting</em> game of the 2023-2024 season was the … drumroll please … <code>2023_14_MIN_LV</code> with a score of <code>4.0948</code> or in human terms:</p>
<p><a href="https://www.pff.com/news/nfl-week-14-game-recap-minnesota-vikings-3-las-vegas-raiders-0">NFL Week 14 Game Recap: Minnesota Vikings 3, Las Vegas Raiders 0</a></p>
<p>Yeah, that’s not really what we are after - a total of three points were scored in this close, or in NFL terms one paltry field goal. Yes this game was in the <code>danger_zone</code> for quite some time, mostly by virtue of Josh Dobbs passing for 63 yards [3].  This was so close to what we were looking for but not quite there. In fact, if we look further down the list at the second most “exciting” game we find <code>2023_01_BUF_NYJ (3.7266)</code> better known as the game that Aaron Rodgers blew out his Achilles in his first 5 minutes playing with the Jets:</p>
<p><a href="https://www.pff.com/news/nfl-week-1-game-recap-new-york-jets-22-buffalo-bills-16">NFL Week 1 Game Recap: New York Jets 22, Buffalo Bills 16</a></p>
<p>That was a pretty <em>exciting</em> game independent of the injury. It was a back and forth game where the Jets emerged victorious in overtime … so that proves a little merit to our model.</p>
<p>Remember those funny little beta symbols that I wrote down - let’s try using those. What we are actually after is an adequate weighting of our three parameters that emphasizes the correct attributes according to their importance in the <em>excitement</em> of a game. How we achieve the system of carefully tuning our weighting is through Linear Regression [4], how we put this into action  is a little bit more complicated.</p>
<h2><code>How To Overcomplicate a Problem</code></h2>
<p>Obviously to perform a linear regression or any model tuning we need something to assess our weights against. That something should be an equivalence of the problem we are exploring even if not 11:1. In that case we are looking for some quantity that tells us how  <em>exciting</em> a game is to serve as our training data - sound familiar? Well that’s the whole essence of  our problem? We can’t use TV viewership for reasons discussed in the prologue, so we have to get creative with how to attack this problem.</p>
<p>Well we could do this and overcomplicate what in essence is a simple(r) problem,  or … we could trust on good authority that <strong>Emily Iannaconi</strong> from <em>NBC Sports</em> does a pretty good job in her ranking of most exciting regular season games and take it from there [5]. The data in the linked article accounts for a hodgepodge of games from the 2022-2023 season as well as the 2023-2024 season so we will have to expand our dataset by a season.</p>
<p>As for scoring the data we can arbitrarily say that the most exciting game is a <strong>100</strong> and the second, third, and beyond most exciting games have a score on a log scale as described in <em>Zipf’s Law</em> [6]. Or more succinctly for all game rankings <em>r</em> in the ground-truth dataset:</p>
<p>$$
\text{excitement}(r) = \frac{100}{r}
$$</p>
<p>In total we have 10 games to quantify and their  manually assigned “excitement” ratings are as follows:</p>
<table>
<thead>
<tr>
<th><code>game_id</code></th>
<th><code>excitement</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>2022_22_KC_PHI</td>
<td>100</td>
</tr>
<tr>
<td>2023_12_BUF_PHI</td>
<td>50</td>
</tr>
<tr>
<td>2023_14_LA_BA</td>
<td>33.33</td>
</tr>
<tr>
<td>2022_19_LAC_JAX</td>
<td>25</td>
</tr>
<tr>
<td>2023_15_PHI_SEA</td>
<td>20</td>
</tr>
<tr>
<td>2022_21_CIN_KC</td>
<td>16.67</td>
</tr>
<tr>
<td>2023_01_BUF_NYJ</td>
<td>14.28</td>
</tr>
<tr>
<td>2023_04_WAS_PHI</td>
<td>12.5</td>
</tr>
<tr>
<td>2023_01_DET_KC</td>
<td>11.11</td>
</tr>
<tr>
<td>2023_11_PHI_KC</td>
<td>10</td>
</tr>
</tbody>
</table>
<p>And after a bit of data cleaning and a simple linear regression model we are left with a final formula of excitement as:</p>
<p>$$
\text{excitement} = -13.59837102 \cdot \text{dz} -38.03332362 \cdot \text{bm} + 174.61538549 \cdot \text{ec}
$$</p>
<p>Well, that’s rather interesting - it almost seems like excitement is strictly defined by eccentricity and the danger zone or big movements of a game don’t really add much value. Usually at this step if we have a model that looks like this we would reconsider our parameters, retrain, and live to fight another day. Instead, I’m going to do <em>none</em> of that and trudge forward.</p>
<h2><code>Putting “Excitement” In Context</code></h2>
<p>The reason I’m so rash to accept our model and move on is that I’m much more interested in <em>what</em> we can do with a quantitative metric of excitement and less interested in <em>how</em> we got there (this is fundamentally the wrong approach, please <strong>do not</strong> follow this philosophy in any aspect of your life but its almost 1:00AM and I really want to finish writing this).</p>
<p>We can begin by revisiting our esteemed title of “Most Exciting Game of The 2024” Season to find … <code>2023_07_BUF_NE</code> which was frankly <em><strong>a pretty exciting game</strong></em>. I could sell it to you, or I could simply show the win-probability chart:</p>
<p><img src="/assets/img/Screenshot_2025-02-22_at_12.40.44_AM.png" alt="Screenshot 2025-02-22 at 12.40.44 AM.png"></p>
<p>We are slowly discovering the value of our quantitative approach to excitement. First of all - it doesn’t matter that this game was a quarterback duel between Josh Allen and Mac Jones in Week 7, all that matters is the raw datapoints. With that in mind lets generate some results. Starting with something I had a vested personal curiosity in <em>Average Excitement by Week</em>:</p>
<p><img src="/assets/img/Screenshot_2025-02-22_at_1.15.53_AM.png" alt="Screenshot 2025-02-22 at 1.15.53 AM.png"></p>
<p>Initially I though that the NFL season on balance started out pretty dull with excitement ramping up towards the end of the season but instead it looks like excitement is pretty well balanced throughout the weeks. Next, another personally curiosity was <em>Share of Excitement by Team.</em> We know certain teams command an unfair share of the media’s attention but when we boil the numbers which teams share the largest wedge of the leagues excitement product:</p>
<p><img src="/assets/img/Screenshot_2025-02-22_at_1.19.59_AM.png" alt="Screenshot 2025-02-22 at 1.19.59 AM.png"></p>
<p>There really isn’t much differentiation between teams which is probably a good thing for the television product but we can see <em>slight</em> bias towards a couple of teams: KC, DET, BUF, SF, and CLE. The commonality between most of those teams is that they are just on-balance good teams who probably compete in lots of high-leverage games, but the addition of Cleveland on that list does pique some curiosity.</p>
<h2><code>Wrapping Up</code></h2>
<p>While our meandering adventure might not revolutionize how we watch football, it's given us a way to justify why we spend our Sundays glued to RedZone even if its a 1PM Buccaneers-Saints game. Excitement is not driven by the names, stakes, or fanfare. Sometimes pure, unadulterated chaos rules supreme.</p>
<p>I find it kind of symbolic that out of every variable “Eccentricity” is the one weighted so heavily by a Linear Regression; definitely out of the formulas I created it felt the most like quack-science, but maybe the speaks to a more philosophical point about this entire exploration. We don’t really know what makes Football click in the brain of the average American Audience - yes the detractors may point to nationalism, brutality, etc. but I don’t really buy that argument. There is just something so appealing about watching a symphony of crashes and bumps play out over 60 minutes. Any model of Football will never provide the predictive capabilities we covet, but at least an excitement model comes one step closer to qualifying why we love this game oh-so much.</p>
<hr>
<h1><code>References</code></h1>
<p><a href="https://www.forbes.com/sites/bradadgate/2025/01/08/in-2024-nfl-games-accounted-for-72-of-the-100-most-watched-telecasts/">1</a>,
<a href="https://www.espn.com/nfl/superbowl/history/winners">2</a>,
<a href="https://www.pff.com/news/nfl-week-14-game-recap-minnesota-vikings-3-las-vegas-raiders-0">3</a>,
<a href="https://en.wikipedia.org/wiki/Linear_regression">4</a>,
<a href="https://www.nbcsports.com/nfl/news/the-best-nfl-games-of-2023">5</a>,
<a href="https://blogs.cornell.edu/info2040/2016/11/13/zipfs-law-for-cities-a-simple-explanation-for-urban-populations/">6</a></p>

    </main>
  </body>
</html>
<style>

    p img {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: 2rem;
        margin-bottom: 2rem;
        max-width: 50%;
        height: auto;
    }

    aside {
        font-style: italic;
        color: #666;
        margin-top: 20px;
        padding: 10px;
        border-left: 4px solid #ccc;
    }

    blockquote {
        font-style: italic;
        color: #555;
        border-left: 4px solid #ccc;
        padding-left: 20px;
        margin: 20px 0;
        border-left: 4px solid #ccc;
    }

    pre {
        background-color: #f4f4f4; /* light gray background */
        padding: 1rem;
        border-radius: 8px;
        overflow-x: auto;
        font-family: monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        border: 1px solid #ddd;
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
        color: #222;
    }

    pre code {
        background: none !important;
        padding: 0;
        margin: 0;
        font-size: inherit;
        color: inherit;
        font-family: inherit;
    }

    pre::before, pre::after {
        content: "```";
        color: #aaa;
        display: block;
        font-family: monospace;
        margin-bottom: 0.5em;
    }
    pre::after {
        margin-top: 0.5em;
    }

    iframe {
        filter: brightness(0.95) contrast(1.05);
        background: transparent;
    }

    .tag {
        display: inline-block;
        background-color: #696969;
        color: #fff;
        padding: 0.3em 0.6em;
        border-radius: 999px;
        font-family: inherit;
        text-transform: lowercase;
        letter-spacing: 0.5px;
    }

    .chess-embed {
        border-radius: 5px;
        padding: 1rem;
        margin: 2rem 0;
        height: 400px;        
        font-family: monospace;
    }

    .chess-embed iframe {
        border: none;
        width: 100%;
        background: transparent;
    }

    table {
        margin: 2rem auto;
        border-collapse: collapse;
        text-align: center;
        font-size: 1rem;
    }

    table th,
    table td {
        border: 1px solid #ddd;
        padding: 12px;
    }

</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body);">
</script>